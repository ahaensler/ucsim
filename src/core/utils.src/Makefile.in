#
# uCsim utils.src/Makefile
#
# (c) 1997 Drotos Daniel
#

PKG		= ucsimutil

include ../../common.mk

srcdir          = @srcdir@
VPATH           = @srcdir@

top_builddir	= @top_builddir@
top_srcdir	= @top_srcdir@

include $(srcdir)/objs.mk


# Compiling entire program or any subproject
# ------------------------------------------
all: libs

libs: $(top_builddir)/lib$(PKG).a

apps:


# Compiling and installing everything
# -----------------------------------
installdirs:

install:

uninstall:


# Performing self-test
# --------------------
check:

test:

baseline:


# Creating dependencies
# ---------------------
dep: Makefile.dep

Makefile.dep: $(SOURCES) $(srcdir)/*.h
	$(MAKEDEP) $(CPPFLAGS) $(filter %.cc,$^) >Makefile.dep

-include Makefile.dep
include $(srcdir)/clean.mk


# My rules
# --------
$(top_builddir)/lib$(PKG).a: $(ALL_OBJECTS)
ifeq ($(SILENT),yes)
	@echo LIB $(TN)-$@
	@$(AR) -rc $@ $+ 	>>$(top_srcdir)/compile.log 2>&1
	@$(RANLIB) $@ 		>>$(top_srcdir)/compile.log 2>&1
else
	$(AR) -rc $@ $+
	$(RANLIB) $@
endif


# End of utils.src/Makefile
