#
# uCsim s51.src/Makefile
#
# (c) Drotos Daniel, Talker Bt. 1997
#

include ../../common.mk

srcdir          = @srcdir@
VPATH           = @srcdir@

top_builddir	= @top_builddir@
top_srcdir	= @top_srcdir@

LOCAL_LIB_PREREQU	=
LOCAL_LIB_OPTIONS	=

LEN2		= ucsim_i8051$(EXEEXT)

# Compiling entire program or any subproject
# ------------------------------------------
all: otherlibs app

include $(top_srcdir)/src/app.mk

$(LEN2): $(LEN)
	cp $< $@

local_install: $(LEN2)
	$(INSTALL) $(LEN2) $(DESTDIR)$(bindir)/$(LEN2)
	$(STRIP) $(DESTDIR)$(bindir)/$(LEN2)

local_uninstall:
	rm -f $(DESTDIR)$(bindir)/$(LEN2)

# Creating dependencies
# ---------------------
dep: Makefile.dep

Makefile.dep: $(srcdir)/*.cc $(srcdir)/*.h objs.mk
	$(MAKEDEP) $(CPPFLAGS) $(filter %.cc,$^) >Makefile.dep

-include Makefile.dep
include $(srcdir)/clean.mk


# End of s51.src/Makefile.in
